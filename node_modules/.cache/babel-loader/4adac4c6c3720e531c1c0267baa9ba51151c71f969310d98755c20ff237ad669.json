{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_KEY=\"a9aee0b45a9a984aa294a5532a9e4656\";const MovieDetails=()=>{const{id}=useParams();const[movie,setMovie]=useState(null);const[loading,setLoading]=useState(true);useEffect(()=>{const fetchMovieDetails=async()=>{try{const response=await axios.get(\"https://api.themoviedb.org/3/movie/\".concat(id,\"?api_key=\").concat(API_KEY,\"&language=en-US\"));setMovie(response.data);}catch(error){console.error(\"Error fetching movie details:\",error);}finally{setLoading(false);}};fetchMovieDetails();},[id]);const handleAddToFavorites=()=>{const storedFavorites=JSON.parse(localStorage.getItem(\"favorites\"))||[];if(!storedFavorites.some(fav=>fav.id===movie.id)){storedFavorites.push(movie);localStorage.setItem(\"favorites\",JSON.stringify(storedFavorites));alert(\"Added to Favorites!\");}else{alert(\"This movie is already in your favorites.\");}};if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading movie details...\"});if(!movie)return/*#__PURE__*/_jsx(\"p\",{children:\"Movie not found.\"});return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:movie.title}),/*#__PURE__*/_jsx(\"img\",{src:\"https://image.tmdb.org/t/p/w300\".concat(movie.poster_path),alt:movie.title}),/*#__PURE__*/_jsx(\"p\",{children:movie.overview}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Release Date: \",movie.release_date]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Rating: \",movie.vote_average]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToFavorites,children:\"Add to Favorites\"})]});};export default MovieDetails;","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","jsx","_jsx","jsxs","_jsxs","API_KEY","MovieDetails","id","movie","setMovie","loading","setLoading","fetchMovieDetails","response","get","concat","data","error","console","handleAddToFavorites","storedFavorites","JSON","parse","localStorage","getItem","some","fav","push","setItem","stringify","alert","children","title","src","poster_path","alt","overview","release_date","vote_average","onClick"],"sources":["C:/Users/sabak/OneDrive/Desktop/React Final/opt/build/MovieApp/my-movie-app/src/pages/MovieDetails.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst API_KEY = \"a9aee0b45a9a984aa294a5532a9e4656\";\r\n\r\nconst MovieDetails = () => {\r\n  const { id } = useParams();\r\n  const [movie, setMovie] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    const fetchMovieDetails = async () => {\r\n      try {\r\n        const response = await axios.get(`https://api.themoviedb.org/3/movie/${id}?api_key=${API_KEY}&language=en-US`);\r\n        setMovie(response.data);\r\n      } catch (error) {\r\n        console.error(\"Error fetching movie details:\", error);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchMovieDetails();\r\n  }, [id]);\r\n\r\n  const handleAddToFavorites = () => {\r\n    const storedFavorites = JSON.parse(localStorage.getItem(\"favorites\")) || [];\r\n    \r\n    if (!storedFavorites.some(fav => fav.id === movie.id)) {\r\n      storedFavorites.push(movie);\r\n      localStorage.setItem(\"favorites\", JSON.stringify(storedFavorites));\r\n      alert(\"Added to Favorites!\");\r\n    } else {\r\n      alert(\"This movie is already in your favorites.\");\r\n    }\r\n  };\r\n\r\n  if (loading) return <p>Loading movie details...</p>;\r\n  if (!movie) return <p>Movie not found.</p>;\r\n\r\n  return (\r\n    <div>\r\n      <h1>{movie.title}</h1>\r\n      <img\r\n        src={`https://image.tmdb.org/t/p/w300${movie.poster_path}`}\r\n        alt={movie.title}\r\n      />\r\n      <p>{movie.overview}</p>\r\n      <p>Release Date: {movie.release_date}</p>\r\n      <p>Rating: {movie.vote_average}</p>\r\n\r\n      <button onClick={handleAddToFavorites}>Add to Favorites</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MovieDetails;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE1B,KAAM,CAAAC,OAAO,CAAG,kCAAkC,CAElD,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAEC,EAAG,CAAC,CAAGR,SAAS,CAAC,CAAC,CAC1B,KAAM,CAACS,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACY,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,IAAI,CAAC,CAE5CD,SAAS,CAAC,IAAM,CACd,KAAM,CAAAe,iBAAiB,CAAG,KAAAA,CAAA,GAAY,CACpC,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAb,KAAK,CAACc,GAAG,uCAAAC,MAAA,CAAuCR,EAAE,cAAAQ,MAAA,CAAYV,OAAO,mBAAiB,CAAC,CAC9GI,QAAQ,CAACI,QAAQ,CAACG,IAAI,CAAC,CACzB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,CAAEA,KAAK,CAAC,CACvD,CAAC,OAAS,CACRN,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAEDC,iBAAiB,CAAC,CAAC,CACrB,CAAC,CAAE,CAACL,EAAE,CAAC,CAAC,CAER,KAAM,CAAAY,oBAAoB,CAAGA,CAAA,GAAM,CACjC,KAAM,CAAAC,eAAe,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,WAAW,CAAC,CAAC,EAAI,EAAE,CAE3E,GAAI,CAACJ,eAAe,CAACK,IAAI,CAACC,GAAG,EAAIA,GAAG,CAACnB,EAAE,GAAKC,KAAK,CAACD,EAAE,CAAC,CAAE,CACrDa,eAAe,CAACO,IAAI,CAACnB,KAAK,CAAC,CAC3Be,YAAY,CAACK,OAAO,CAAC,WAAW,CAAEP,IAAI,CAACQ,SAAS,CAACT,eAAe,CAAC,CAAC,CAClEU,KAAK,CAAC,qBAAqB,CAAC,CAC9B,CAAC,IAAM,CACLA,KAAK,CAAC,0CAA0C,CAAC,CACnD,CACF,CAAC,CAED,GAAIpB,OAAO,CAAE,mBAAOR,IAAA,MAAA6B,QAAA,CAAG,0BAAwB,CAAG,CAAC,CACnD,GAAI,CAACvB,KAAK,CAAE,mBAAON,IAAA,MAAA6B,QAAA,CAAG,kBAAgB,CAAG,CAAC,CAE1C,mBACE3B,KAAA,QAAA2B,QAAA,eACE7B,IAAA,OAAA6B,QAAA,CAAKvB,KAAK,CAACwB,KAAK,CAAK,CAAC,cACtB9B,IAAA,QACE+B,GAAG,mCAAAlB,MAAA,CAAoCP,KAAK,CAAC0B,WAAW,CAAG,CAC3DC,GAAG,CAAE3B,KAAK,CAACwB,KAAM,CAClB,CAAC,cACF9B,IAAA,MAAA6B,QAAA,CAAIvB,KAAK,CAAC4B,QAAQ,CAAI,CAAC,cACvBhC,KAAA,MAAA2B,QAAA,EAAG,gBAAc,CAACvB,KAAK,CAAC6B,YAAY,EAAI,CAAC,cACzCjC,KAAA,MAAA2B,QAAA,EAAG,UAAQ,CAACvB,KAAK,CAAC8B,YAAY,EAAI,CAAC,cAEnCpC,IAAA,WAAQqC,OAAO,CAAEpB,oBAAqB,CAAAY,QAAA,CAAC,kBAAgB,CAAQ,CAAC,EAC7D,CAAC,CAEV,CAAC,CAED,cAAe,CAAAzB,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}